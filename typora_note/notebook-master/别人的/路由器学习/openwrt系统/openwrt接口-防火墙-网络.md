# openwrt接口-防火墙-网络

网络可以理解成一个虚拟网卡，它的物理设置中的接口可以是当个物理接口，也可以是多个接口组成的桥接接口



接口，物理接口可以产生虚拟接口



## 防火墙

防火墙是针对于接口而已的，对流经接口上的数据进行规则比较然后进行处理

并且防火墙中的设置最后都会转变成iptables的表链规则

==常规设置中的入站数据，出站数据，转发分别对应iptables中的filter表的input链，output链，forward链中的默认规则==

![image-20200822192216984](https://raw.githubusercontent.com/yusenyi123/pictures1/master/imgs/20200827164716.png)

==区域是防火墙规则的集合，区域中的规则比常规规则优先，优先匹配区域中的规则==

一个区域可以包含多个网络（也就是包含多个虚拟网卡），把网络放入一个区域就表示：该网络（即虚拟网卡）中的接口要满足该区域的防火墙规则

防火墙规在区域内可以设置下面几项

![image-20200823120848056](https://raw.githubusercontent.com/yusenyi123/pictures1/master/imgs/20200827164724.png)





入站数据规则表示：对于一个数据包，目的地址是该接口（目的地址是该接口的意思表示这个数据包目的的mac地址是该接口的mac地址，或者是这个桥接接口包含的接口中某个接口的mac地址） ,在路由选择的时候进行接受/拒绝/丢弃



出站数据规则表示：对于一个数据包，来源地址是该接口,在路由选择的时候进行接受/拒绝/丢弃



转发规则表示：对于一个数据包，==来源地址是该接口，目的地址也是该接口==，,在路由选择的时候进行接受/拒绝/丢弃



![image-20200822192604578](https://raw.githubusercontent.com/yusenyi123/pictures1/master/imgs/20200827164731.png)